<!DOCTYPE html>
<html>

  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
    <script src="/jquery-mask/javascripts/main.js" type="text/javascript" ></script>
	<script type="text/javascript">

function testBoxes() {
  var boxes = [];
  var backgrounds = ['red', 'blue', 'green', 'orange', 'yellow', 'white', 'purple'];
  for (var i = 0; i < 20; i++) {
    var box = jQuery('<div class="box" style="position: absolute;"></div>');
    var topRand = Math.floor(Math.random() * 1000);
    var leftRand = Math.floor(Math.random() * 1000);
    box.css('background-color', backgrounds[i % backgrounds.length]);
    box.css('margin', Math.floor(Math.random() * 5) + 'px');
    box.css('border', Math.floor(Math.random() * 5) + 'px black solid');
    box.css('padding', Math.floor(Math.random() * 5) + 'px');
    box.css('height', Math.floor(Math.random() * 90 + 10) + 'px');
    box.css('width', Math.floor(Math.random() * 90 + 10) + 'px');
    box.css('top', topRand);
    box.css('left', leftRand);
    jQuery('body').append(box);
  }

  jQuery(document).mask('.box');

  var dims = [];
  jQuery('.mask').each(function() {
    var dim = jQuery.mask.getDims(jQuery(this));
    dim.src = this;
    dims.push(dim);
  });
  var maskDims = dims.slice();

  jQuery('.box').each(function() {
    var dim = jQuery.mask.getDims(jQuery(this));
    dim.src = this;
    dims.push(dim);
  });

  var testCount = 0;
  for (var i = 0; i < maskDims.length; i++) {
    for (var j = i + 1; j < dims.length; j++) {
      if (jQuery.mask.dimsOverlap(maskDims[i], dims[j]) && console.log) {
        console.log('test failed', jQuery(maskDims[i].src), jQuery(dims[j].src));
      }
      testCount++;
    }
  }
  if (console.log) {
    console.log('test done, ' + maskDims.length + ' masking divs, ' + testCount + ' pairs checked for overlap.');
  }
}

jQuery(document).ready(function() {
  jQuery('#demo').click(function(event) {
    testBoxes();
	event.preventDefault();
  });
  jQuery('#demo2').click(function(event) {
    jQuery('body').mask('#main_content');
	event.preventDefault();
  });
});

jQuery(window).resize(function() {
  jQuery(document).mask('.box');
});

</script>
<style type="text/css">
.mask {
  z-index: 500000;
  position: absolute;
  background-color: #000;
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
}
</style>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Jquery-mask : Apply a mask around an arbitrary number of elements.  Useful for pulling elements up through an overlay." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Jquery-mask</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/dbellizzi/jquery-mask">View on GitHub</a>

          <h1 id="project_title">Jquery-mask</h1>
          <h2 id="project_tagline">Apply a mask around an arbitrary number of elements.  Useful for pulling elements up through an overlay.</h2>
		  
            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/dbellizzi/jquery-mask/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/dbellizzi/jquery-mask/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>Try it out</h1>

<p>		 
<ul> 
<li><a id="demo">Draw some boxes</a></li>
<li><a id="demo2">Highlight some sections</a></li>
</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Jquery-mask maintained by <a href="https://github.com/dbellizzi">dbellizzi</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
